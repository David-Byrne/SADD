<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.3/css/bootstrap.min.css">

    <style>
        #sentiment-graph-box{
            min-height: 300px;
            height: 40vh;
        }
        .wordcloud {
            height: 30vh;
        }
        .cloud-word {
            transition: text-shadow .3s;
        }
        .cloud-word:hover {
            text-shadow: 0 0 15px #ffffff;
        }
    </style>
</head>

<body>
    <nav class="navbar navbar-light bg-light">
        <a class="navbar-brand" href="#">Hateful8th</a>
    </nav>

    <div class="container">
        <div class="card col-12 mt-4 mb-4">
            <div id="sentiment-graph-box">
                <canvas id="sentiment-graph"></canvas>
            </div>
        </div>

        <div class="row">
            <div class="col-sm-6">
                <div class="card">
                    <span class="wordcloud" id="repeal-cloud"></span>
                </div>
            </div>

            <div class="col-sm-6">
                <div class="card">
                    <span class="wordcloud" id="save-cloud"></span>
                </div>
            </div>
        </div>
    </div>

</body>
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.3/js/bootstrap.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.1/Chart.bundle.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/wordcloud2.js/1.0.6/wordcloud2.js"></script>

<script src="lineChart.js"></script>
<script src="sentiCloud.js"></script>

<script>
    "use strict";
    window.onload = function() {
        const ctx = document.getElementById("sentiment-graph").getContext("2d");
        const labels = ["2017-11-08", "2017-11-09", "2017-11-10", "2017-11-11", "2017-11-12", "2017-11-13", "2017-11-14", "2017-11-15", "2017-11-16", "2017-11-17", "2017-11-18", "2017-11-19", "2017-11-20", "2017-11-21", "2017-11-22", "2017-11-23", "2017-11-24", "2017-11-25", "2017-11-26", "2017-11-27", "2017-11-28", "2017-11-29", "2017-11-30", "2017-12-01", "2017-12-02", "2017-12-03", "2017-12-04", "2017-12-05", "2017-12-06", "2017-12-07", "2017-12-08", "2017-12-09", "2017-12-10", "2017-12-11", "2017-12-12", "2017-12-13", "2017-12-14", "2017-12-15", "2017-12-16", "2017-12-17", "2017-12-18", "2017-12-19", "2017-12-20", "2017-12-21", "2017-12-22", "2017-12-23", "2017-12-24", "2017-12-25", "2017-12-26", "2017-12-27", "2017-12-28", "2017-12-29", "2017-12-30", "2017-12-31", "2018-01-01", "2018-01-02", "2018-01-03", "2018-01-04", "2018-01-05", "2018-01-06", "2018-01-07", "2018-01-08"];
        const vpSen = [0.58282, 0.59933, 0.53261, 0.54301, 0.49624, 0.60553, 0.66289, 0.52365, 0.53333, 0.44610, 0.64333, 0.50754, 0.40642, 0.57713, 0.48673, 0.59091, 0.65000, 0.44193, 0.61845, 0.53750, 0.66829, 0.56742, 0.43836, 0.66562, 0.59202, 0.58974, 0.64184, 0.49187, 0.66445, 0.63961, 0.60000, 0.57310, 0.57516, 0.52344, 0.62849, 0.54696, 0.63455, 0.62451, 0.60071, 0.55556, 0.56621, 0.50195, 0.41071, 0.55172, 0.58273, 0.49198, 0.64815, 0.66913, 0.49180, 0.51549, 0.45355, 0.48558, 0.75084, 0.64746, 0.52941, 0.68293, 0.55124, 0.56226, 0.63281, 0.70442, 0.48736, 0.48696];
        const vnSen = [0.31707, 0.62637, 0.69048, 0.53659, 0.87500, 0.66667, 0.58333, 0.67857, 0.65385, 0.50000, 0.57576, 0.53247, 0.61538, 0.53571, 0.83333, 0.60000, 0.87500, 0.32432, 0.67647, 0.25000, 0.68000, 0.50000, 0.61111, 0.59375, 0.52500, 0.42857, 0.54167, 0.62069, 0.34000, 0.66129, 0.44928, 0.73684, 0.70909, 0.80645, 0.80645, 0.60000, 0.42424, 0.55039, 0.42308, 0.78182, 0.55556, 0.58824, 0.40741, 0.48649, 0.65385, 0.60000, 0.85294, 0.35714, 0.64583, 0.80000, 0.58621, 0.48276, 0.70000, 0.70588, 0.65385, 0.34783, 0.85714, 0.81818, 0.67857, 0.83562, 0.70000, 0.89286];

        const lc = new LineChart(ctx, labels, vnSen, vpSen);
        const repealCloud = new SentiCloud(document.getElementById("repeal-cloud"),
            [['Repeal',30],['choice',20],['abortion',15],['8th',20],['fake',10],['data',10],['vote',15],['info',10],['foobar',12],['foo',10],['bar',10],['joe',14],['bloggs',12],['London',10],['travel',10],['abroad',14],['women',12],['Repeal',30],['choice',20],['abortion',15],['8th',20],['fake',10],['data',10],['vote',15],['info',10],['foobar',12],['foo',10],['bar',10],['joe',14],['bloggs',12],['London',10],['travel',10],['abroad',14],['women',12],['Repeal',30],['choice',20],['abortion',15],['8th',20],['fake',10],['data',10],['vote',15],['info',10],['foobar',12],['foo',10],['bar',10],['joe',14],['bloggs',12],['London',10],['travel',10],['abroad',14],['women',12],["abcd",10]],
            {
                color: '#ffffff',
                backgroundColor: '#000000'
            }
        );

        const saveCloud = new SentiCloud(document.getElementById("save-cloud"),
            [['Save',30],['killing',20],['abortion',15],['8th',20],['fake',10],['data',10],['vote',15],['info',10],['foobar',12],['foo',10],['bar',10],['joe',14],['bloggs',12],['London',10],['travel',10],['abroad',14],['babies',12],['Save',30],['killing',20],['abortion',15],['8th',20],['fake',10],['data',10],['vote',15],['info',10],['foobar',12],['foo',10],['bar',10],['joe',14],['bloggs',12],['London',10],['travel',10],['abroad',14],['babies',12],['Save',30],['killing',20],['abortion',15],['8th',20],['fake',10],['data',10],['vote',15],['info',10],['foobar',12],['foo',10],['bar',10],['joe',14],['bloggs',12],['London',10],['travel',10],['abroad',14],['babies',12]],
            {
                color: '#ffffff',
                backgroundColor: '#ed207b'
            }
        );

    };
</script>
</html>
